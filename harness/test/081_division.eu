##
## 081: Division semantics — floor div (/), precise div (÷), quot, rem, mod
##

tests: {
  floor-div-positive: {
    a: 7 / 2 //= 3
    b: 24 / 2 //= 12
    c: 6 / 3 //= 2
    d: 1 / 3 //= 0
    e: 0 / 5 //= 0
  }

  floor-div-negative: {
    a: -7 / 2 //= -4
    b: 7 / -2 //= -4
    c: -7 / -2 //= 3
    d: -6 / 3 //= -2
    e: -1 / 3 //= -1
  }

  floor-div-float-inputs: {
    a: 7.0 / 2.0 //= 3
    b: -7.0 / 2.0 //= -4
    c: 24.5 / 2.0 //= 12
  }

  precise-div: {
    a: 7 ÷ 2 //= 3.5
    b: -7 ÷ 2 //= -3.5
    c: 24 ÷ 8 //= 3.0
    d: 1 ÷ 3 //= 0.3333333333333333
  }

  floor-mod-positive: {
    a: 7 % 3 //= 1
    b: 6 % 3 //= 0
    c: 5 % 3 //= 2
    d: 0 % 5 //= 0
  }

  floor-mod-negative: {
    a: -7 % 3 //= 2
    b: 7 % -3 //= -2
    c: -7 % -3 //= -1
  }

  quot-truncation: {
    a: quot(7, 2) //= 3
    b: quot(-7, 2) //= -3
    c: quot(7, -2) //= -3
    d: quot(-7, -2) //= 3
  }

  rem-truncation: {
    a: rem(7, 3) //= 1
    b: rem(-7, 3) //= -1
    c: rem(7, -3) //= 1
    d: rem(-7, -3) //= -1
  }

  div-mod-identity: {
    ` "a = (a / b) * b + (a % b) for all these (a, b) cases"
    a: 7 = (7 / 3) * 3 + (7 % 3)
    b: -7 = (-7 / 3) * 3 + (-7 % 3)
    c: 7 = (7 / -3) * -3 + (7 % -3)
    d: -7 = (-7 / -3) * -3 + (-7 % -3)
    e: 15 = (15 / 4) * 4 + (15 % 4)
    f: -15 = (-15 / 4) * 4 + (-15 % 4)
  }

  quot-rem-identity: {
    ` "a = quot(a, b) * b + rem(a, b) for all these (a, b) cases"
    a: 7 = quot(7, 3) * 3 + rem(7, 3)
    b: -7 = quot(-7, 3) * 3 + rem(-7, 3)
    c: 7 = quot(7, -3) * -3 + rem(7, -3)
    d: -7 = quot(-7, -3) * -3 + rem(-7, -3)
    e: 15 = quot(15, 4) * 4 + rem(15, 4)
    f: -15 = quot(-15, 4) * 4 + rem(-15, 4)
  }

  sum-function: {
    a: [1, 2, 3, 4, 5] sum //= 15
    b: [] sum //= 0
    c: [10] sum //= 10
  }

  product-function: {
    a: [2, 3, 4] product //= 24
    b: [] product //= 1
    c: [7] product //= 7
  }
}

RESULT: tests values map(values) map(all-true?) all-true? then(:PASS, :FAIL)
