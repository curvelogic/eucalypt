# imports
local: cal.local
now: cal.now
elapse: cal.elapse
(l +> r): l elapse(r)
rewind: cal.rewind
(l +< r): l rewind(r)
after: cal.after
before: cal.before
parase: cal.parse

n: local(now) fields (_.y)

d1: { h: 2 m: 30 }

l1: local({ y: 2012 M: 2 d: 21 h: 13 m: 10 s: 22 ms: 103})
l2: l1 elapse(d1) //= l1 +> d1

x: fields(l1).d //= 21
y: fields(l1)."{d}-{m}-{y}" //= "21-2-2012"

t1: zoned({ y: 2012 M: 2 d: 21 Z: 0})
t2: t1 elapse(6 h) //= t1 +> { h: 6 }
t3: t1 rewind(4 m) //= t1 +< (4 m)
t4: t2 after(t1) //= t2 ?> t1
t5: t2 before(t1) //= t2 <? t1

ad hoc format
s1: t1.fields."{h:%02d}:{m:%02d}:{s:%02s}"
standard formats
s2: "{t1:fmt.iso8601}"

ad hoc parse
p1: "18/12/20012" str.match-with("(\d+)/(\d+)/(\d+)") apply({ d: •1 M: •2 y: •3}) offset
...or with grok
p2: "18/12/20012" str.grok("%{d:\d+}/%{M:\d+}/%{y:\d+}") offset
p3: "2012-10-12T12:00:12+00:00" parse
